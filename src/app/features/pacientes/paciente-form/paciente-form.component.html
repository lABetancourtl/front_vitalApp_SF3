<div class="container mt-4">
  <h3>{{ modoEdicion ? 'Editar Paciente' : 'Registrar Nuevo Paciente' }}</h3>

  <form (ngSubmit)="guardar()" #form="ngForm" class="mt-3">
    <div class="row mb-3">
      <div class="col-md-4">
        <label class="form-label">Usuario ID</label>
        <input
          type="number"
          [(ngModel)]="paciente.usuario_id"
          name="usuario_id"
          class="form-control"
          placeholder="ID del usuario asociado"
          required
        />
      </div>

      <div class="col-md-4">
        <label class="form-label">Documento (Cédula)</label>
        <input
          type="text"
          [(ngModel)]="paciente.documento"
          name="documento"
          class="form-control"
          placeholder="Número de documento"
          required
        />
      </div>

      <div class="col-md-4">
        <label class="form-label">Teléfono</label>
        <input
          type="text"
          [(ngModel)]="paciente.telefono"
          name="telefono"
          class="form-control"
          placeholder="Teléfono del paciente"
        />
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label">Dirección</label>
        <input
          type="text"
          [(ngModel)]="paciente.direccion"
          name="direccion"
          class="form-control"
          placeholder="Dirección de residencia"
        />
      </div>

      <div class="col-md-3">
        <label class="form-label">Fecha de nacimiento</label>
        <input
          type="date"
          [(ngModel)]="paciente.fecha_nacimiento"
          name="fecha_nacimiento"
          class="form-control"
          required
        />
      </div>

      <div class="col-md-3">
        <label class="form-label">Género</label>
        <select
          [(ngModel)]="paciente.genero"
          name="genero"
          class="form-select"
          required
        >
          <option value="" disabled selected>Seleccione género</option>
          <option value="M">Masculino</option>
          <option value="F">Femenino</option>
          <option value="O">Otro</option>
        </select>
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-success me-2"
      [disabled]="form.invalid"
    >
      {{ modoEdicion ? 'Guardar Cambios' : 'Registrar Paciente' }}
    </button>
    <a routerLink="/pacientes" class="btn btn-secondary">Cancelar</a>
  </form>
</div>
