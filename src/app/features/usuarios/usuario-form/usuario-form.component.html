<div class="container mt-4">
  <h2>{{ titulo }}</h2>

  <form [formGroup]="form" (ngSubmit)="guardar()">
    <div class="mb-3">
      <label>Nombre</label>
      <input class="form-control" formControlName="nombre" />
      <div class="text-danger" *ngIf="form.get('nombre')?.invalid && form.get('nombre')?.touched">
        El nombre es obligatorio
      </div>
    </div>

    <div class="mb-3">
      <label>Correo</label>
      <input type="email" class="form-control" formControlName="correo" />
      <div class="text-danger" *ngIf="form.get('correo')?.invalid && form.get('correo')?.touched">
        Ingresa un correo vÃ¡lido
      </div>
    </div>

    <!-- Solo pedir contraseÃ±a en modo "crear" -->
    <div class="mb-3" *ngIf="!usuarioId">
      <label>ContraseÃ±a</label>
      <input type="password" class="form-control" formControlName="password" />
    </div>

    <div class="mb-3">
      <label>Rol</label>
      <select class="form-select" formControlName="rol">
        <option value="paciente">Paciente</option>
        <option value="medico">MÃ©dico</option>
        <option value="admin">Administrador</option>
      </select>
    </div>

    <div class="d-flex gap-2">
      <button class="btn btn-success" type="submit" [disabled]="form.invalid || cargando">
        ðŸ’¾ {{ usuarioId ? 'Actualizar' : 'Guardar' }}
      </button>
      <button class="btn btn-secondary" type="button" (click)="cancelar()">Cancelar</button>
    </div>
  </form>
</div>
